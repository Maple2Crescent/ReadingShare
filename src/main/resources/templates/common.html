<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org"  xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity4">
<head th:include="system/resources::resources">
</head>
<body>
<nav class="navbar navbar-default navbar-fixed-top" th:fragment="header">
    <div class="container">
        <div class="navbar-header">
            <a class="navbar-brand" href="#">阅读分享平台</a>
        </div>
        <div id="navbar" class="collapse navbar-collapse">
            <ul class="nav navbar-nav">
                <li><a th:href="@{/}">首页</a></li>
                <li sec:authorize="hasAnyRole('ROLE_ADMIN','ROLE_STUDENT')" class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">阅读分享 <span class="caret"></span></a>
                    <ul class="dropdown-menu">
                        <li><a th:href="@{/}">发布新的分享</a></li>
                        <li role="separator" class="divider"></li>
                        <li><a th:href="@{/}">查看我的分享</a></li>
                    </ul>
                </li>
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">账户管理 <span class="caret"></span></a>
                    <ul class="dropdown-menu">
                        <li><a th:href="@{/user/changePassword}">修改密码</a></li>
                        <li sec:authorize="hasRole('ROLE_ADMIN')" role="separator" class="divider"></li>
                        <li sec:authorize="hasRole('ROLE_ADMIN')"><a th:href="@{/}">学生管理</a></li>
                    </ul>
                </li>
                <li sec:authorize="hasRole('ROLE_ADMIN')"><a th:href="@{/}">班级阅读统计</a></li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
                <li><a href="#"  th:text="欢迎+': ' + ${#httpServletRequest.remoteUser}" ></a></li>
                <li >
                    <form class="navbar-form navbar-right"  th:action="@{/logout}" method="post" onsubmit=" javascript:return confirm('确认退出登录吗') ;">
                        <button type="submit" class="btn btn-success">注销</button>
                    </form>
                </li>
            </ul>
        </div>
    </div>
</nav>
</body>
<footer class="footer navbar-fixed-bottom" th:fragment="footer">
    <div class="container" align="center">
        Copyright ©2017 Maple, All Rights Reserved
    </div>
</footer>
</html>